def solution(dartResult):
    Result = []
    for c in dartResult:
        if c.isnumeric():
            if c == '0' and Result and Result[-1] == 1:Result[-1] = 10
            else: Result.append(int(c))
            continue
        if c == 'D':Result[-1] = Result[-1]**2
        elif c == 'T':Result[-1] = Result[-1]**3
        elif c == '#':Result[-1] *= -1
        elif c == '*':
            Result[-1] *= 2
            if len(Result)>1:Result[-2] *= 2
    return sum(Result)